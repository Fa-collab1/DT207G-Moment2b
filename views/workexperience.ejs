<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My courses</title>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#2b5797">
    <meta name="theme-color" content="#ffffff">

    <body>
        <main>
            <div class="Pagecontent">
                    <header>
                        <nav>
                            <ul class="nav-links">
                                <li><a href="/courses">Courses</a></li>
                                <li><a href="/about">About</a></li>
                                <li><a href="/mycourses">My courses</a></li>
                                <li class="currentPage"><a href="/workexperience">Work experience</a></li>

        
                            </ul>
                        </nav>
                    </header>
    
                    <section class="welcome">
                        <h1>Work Experience</h1>

                        <ul class="extraNavigation">
                            <li><a href="/workexperience/add">Press here to add a new line</a></li>
       
        
                        <% if (workExperienceList && workExperienceList.length > 0) { %>
                            <li class="tip">Click on a company name&#x2B07; to edit a line</li>
                        </ul>
                        <table id="workExperienceList">
                                <thead>
                                    <tr>
                                        <th>Company Name</th>
                                        <th>Job Title</th>
                                        <th>Location</th>
                                        <th>Start</th>
                                        <th>End</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <% workExperienceList.forEach(function(experience) { %>
                                        <tr>
                                            <td><a href="/workexperience/edit/<%= experience.id %>"><%= experience.companyname %></a></td>
                                            <td><%= experience.jobtitle %></td>
                                            <td><%= experience.location %></td>
                                            <td>
                                                <% 
                                                var startDate = new Date(experience.startdate);
                                                var formattedStartDate = startDate.getFullYear().toString().slice(-4) + '-' + ('0' + (startDate.getMonth() + 1)).slice(-2);
                                                %>
                                                <%= formattedStartDate %>
                                            </td>
                                            <td>
                                                <% if (experience.enddate) { 
                                                var endDate = new Date(experience.enddate);
                                                var formattedEndDate = endDate.getFullYear().toString().slice(-4) + '-' + ('0' + (endDate.getMonth() + 1)).slice(-2);
                                                %>
                                                <%= formattedEndDate %>
                                                <% } else { %>
                                                Ongoing
                                                <% } %>
                                            </td>
                                            <td><%= experience.description ? experience.description : '' %></td>
                                        </tr>
                                    <% }); %>
                                </tbody>
                            </table>
                        <% } else { %>
                            <p>No work experience found.</p>
                        <% } %>
        
                    </section>
            </div>
            <footer>
                <p>&copy; 2024 <a href="mailto:joni2307@student.miun.se">joni2307@student.miun.se</a> All rights reserved.</p>
            </footer>
        </main>
    </body>
    
    </html>